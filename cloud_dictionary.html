<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cloud Terms Dictionary</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-6">
  <div class="bg-white shadow-xl rounded-2xl p-8 max-w-2xl w-full">
    <h1 class="text-3xl font-bold mb-6 text-center text-blue-600">â˜ï¸ Cloud Dictionary</h1>

    <!-- Search Box -->
    <div class="flex mb-6">
      <input id="termInput" type="text" placeholder="Search a cloud term..."
        class="flex-1 border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400">
      <button onclick="searchDefinition()"
        class="bg-blue-600 text-white px-6 py-2 rounded-r-lg hover:bg-blue-700 transition">Search</button>
    </div>

    <!-- Results Section -->
    <div id="resultContainer" class="hidden">
      <!-- Loading -->
      <div id="loadingIndicator" class="text-gray-500 text-center mb-4 hidden">ğŸ”„ Loading...</div>

      <!-- Error -->
      <div id="errorMessage" class="text-red-500 text-center mb-4 hidden">âŒ Term not found. Try again!</div>

      <!-- Definition -->
      <div id="definitionContent" class="hidden">
        <h2 id="termDisplay" class="text-2xl font-semibold text-gray-800"></h2>
        <p id="phoneticDisplay" class="text-gray-500 mb-2"></p>
        <p id="definitionDisplay" class="text-gray-700"></p>
      </div>

      <!-- External API Buttons -->
      <div id="externalApiButtons" class="hidden mt-4 flex gap-3 justify-center">
        <button onclick="fetchFromDictionaryAPI()"
          class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition">ğŸ“– Dictionary API</button>
        <button onclick="fetchFromOpenAI()"
          class="bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition">ğŸ¤– AI Explain</button>
      </div>

      <!-- External API Results -->
      <div id="apiResultContainer" class="hidden mt-6 p-4 border rounded-lg bg-gray-50">
        <h3 class="text-lg font-semibold mb-2">Extra Info:</h3>
        <pre id="apiResultDisplay" class="text-sm text-gray-700 whitespace-pre-wrap"></pre>
      </div>
    </div>
  </div>

  <script>
    // --- Local Cloud Terms ---
    const cloudTerms = [
      {
        word: "EC2",
        phonetic: "(ee-see-two)",
        definition: "Amazon Elastic Compute Cloud (EC2) provides scalable virtual servers in the cloud."
      },
      {
        word: "S3",
        phonetic: "(ess-three)",
        definition: "Amazon Simple Storage Service (S3) is an object storage service for scalable data storage."
      },
      {
        word: "VPC",
        phonetic: "(vee-pee-see)",
        definition: "Amazon Virtual Private Cloud (VPC) lets you provision isolated network environments in AWS."
      }
        {
                word: "Lambda",
                phonetic: "(lam-duh)",
                definition: "AWS Lambda is a serverless, event-driven compute service that lets you run code for virtually any type of application or backend service without provisioning or managing servers. You only pay for the compute time you consume."
            },
            {
                word: "IAM",
                phonetic: "(eye-am)",
                definition: "AWS Identity and Access Management (IAM) is a web service that helps you securely control access to AWS resources. You use IAM to manage users, groups, and permissions to allow or deny access to AWS services."
            },
            {
                word: "DynamoDB",
                phonetic: "(dy-na-mo-dee-bee)",
                definition: "Amazon DynamoDB is a fully managed, serverless NoSQL database that delivers single-digit millisecond performance at any scale. It is a key-value and document database used for applications that need low-latency data access."
            },
            {
                word: "CloudFormation",
                phonetic: "(cloud-for-may-shun)",
                definition: "AWS CloudFormation is a service that helps you model and set up your AWS resources. You can define your infrastructure as code in a template and deploy it as a single unit (a 'stack') to automate provisioning."
            },
            {
                word: "CloudWatch",
                phonetic: "(cloud-watch)",
                definition: "Amazon CloudWatch is a monitoring and observability service that provides data and actionable insights to monitor your applications, respond to system-wide performance changes, and optimize resource utilization."
            },
            {
                word: "RDS",
                phonetic: "(are-dee-es)",
                definition: "Amazon Relational Database Service (RDS) is a managed service that makes it easy to set up, operate, and scale a relational database in the cloud. It supports various database engines like MySQL, PostgreSQL, and Oracle."
            },
            {
                word: "Route 53",
                phonetic: "(route-fifty-three)",
                definition: "Amazon Route 53 is a scalable and highly available Domain Name System (DNS) web service. It translates human-friendly domain names (like 'example.com') into the IP addresses that computers use to connect to each other."
            },
            {
                word: "SNS",
                phonetic: "(es-en-es)",
                definition: "Amazon Simple Notification Service (SNS) is a fully managed messaging service for both application-to-application (A2A) and application-to-person (A2P) communication. It allows you to send messages to subscribed endpoints or clients."
            },
            {
                word: "SQS",
                phonetic: "(es-queue-es)",
                definition: "Amazon Simple Queue Service (SQS) is a fully managed message queuing service. It lets you decouple and scale microservices, distributed systems, and serverless applications by creating queues to buffer and process messages."
            },
            {
                word: "EKS",
                phonetic: "(ee-kay-es)",
                definition: "Amazon Elastic Kubernetes Service (EKS) is a managed service that makes it easy for you to run Kubernetes on AWS without needing to install, operate, and maintain your own Kubernetes control plane or nodes."
            },
            {
                word: "ECS",
                phonetic: "(ee-see-es)",
                definition: "Amazon Elastic Container Service (ECS) is a highly scalable, high-performance container orchestration service that supports Docker containers. It makes it easy to run, stop, and manage containers on a cluster."
            },
            {
                word: "CloudFront",
                phonetic: "(cloud-front)",
                definition: "Amazon CloudFront is a fast content delivery network (CDN) service that securely delivers data, videos, applications, and APIs to customers globally with low latency, high transfer speeds, all within a developer-friendly environment."
            },
            {
                word: "API Gateway",
                phonetic: "(ay-pee-eye-gate-way)",
                definition: "Amazon API Gateway is a fully managed service that makes it easy for developers to create, publish, maintain, monitor, and secure APIs at any scale. It acts as a 'front door' for applications to access backend services."
            },
            {
                word: "Cognito",
                phonetic: "(cog-ni-toe)",
                definition: "Amazon Cognito provides authentication, authorization, and user management for your web and mobile apps. It supports social identity providers and adds sign-up and sign-in functionality for users."
            },
            {
                word: "Elastic Beanstalk",
                phonetic: "(ee-lass-tick-been-stalk)",
                definition: "AWS Elastic Beanstalk is an easy-to-use service for deploying and scaling web applications and services. It handles the deployment of your code and manages the underlying resources, such as EC2 instances and load balancers."
            },
            {
                word: "Aurora",
                phonetic: "(aw-ro-ra)",
                definition: "Amazon Aurora is a MySQL and PostgreSQL-compatible relational database built for the cloud. It combines the performance of traditional enterprise databases with the simplicity and cost-effectiveness of open-source databases."
            },
            {
                word: "Glue",
                phonetic: "(glue)",
                definition: "AWS Glue is a fully managed extract, transform, and load (ETL) service that makes it easy to prepare and load your data for analytics. It discovers your data and suggests transformations to make it ready for analysis."
            },
            {
                word: "Kinesis",
                phonetic: "(ki-nee-sis)",
                definition: "Amazon Kinesis is a platform for streaming data on AWS. It allows you to collect, process, and analyze real-time streaming data to get timely insights and react quickly to new information."
            },
            {
                word: "Redshift",
                phonetic: "(red-shift)",
                definition: "Amazon Redshift is a fully managed, petabyte-scale data warehouse service in the cloud. It makes it simple and cost-effective to analyze all your data using your existing business intelligence tools."
            }
    ];

    // --- DOM Elements ---
    const termInput = document.getElementById("termInput");
    const resultContainer = document.getElementById("resultContainer");
    const loadingIndicator = document.getElementById("loadingIndicator");
    const errorMessage = document.getElementById("errorMessage");
    const definitionContent = document.getElementById("definitionContent");
    const termDisplay = document.getElementById("termDisplay");
    const phoneticDisplay = document.getElementById("phoneticDisplay");
    const definitionDisplay = document.getElementById("definitionDisplay");
    const externalApiButtons = document.getElementById("externalApiButtons");
    const apiResultContainer = document.getElementById("apiResultContainer");
    const apiResultDisplay = document.getElementById("apiResultDisplay");

    // --- Main Search Function ---
    async function searchDefinition() {
      const term = termInput.value.trim();

      if (!term) {
        resultContainer.classList.add("hidden");
        externalApiButtons.classList.add("hidden");
        return;
      }

      // Show loading state
      resultContainer.classList.remove("hidden");
      loadingIndicator.classList.remove("hidden");
      errorMessage.classList.add("hidden");
      definitionContent.classList.add("hidden");
      externalApiButtons.classList.add("hidden");
      apiResultContainer.classList.add("hidden");

      try {
        // âœ… Call API Gateway
        const response = await fetch(
          `https://q7kdsumm5a.execute-api.ap-south-1.amazonaws.com/prod/definition?term=${encodeURIComponent(term)}`
        );

        if (!response.ok) throw new Error("API request failed");
        const data = await response.json();

        if (data && data.word) {
          // API result
          termDisplay.textContent = data.word;
          phoneticDisplay.textContent = data.phonetic || "";
          definitionDisplay.textContent = data.definition || "No definition available.";
          definitionContent.classList.remove("hidden");
          externalApiButtons.classList.remove("hidden");
        } else {
          throw new Error("No data returned from API");
        }
      } catch (err) {
        console.warn("API failed, falling back to local list:", err);

        // Fallback: local terms
        const foundTerm = cloudTerms.find(item => item.word.toLowerCase() === term.toLowerCase());
        if (foundTerm) {
          termDisplay.textContent = foundTerm.word;
          phoneticDisplay.textContent = foundTerm.phonetic;
          definitionDisplay.textContent = foundTerm.definition;
          definitionContent.classList.remove("hidden");
          externalApiButtons.classList.remove("hidden");
        } else {
          errorMessage.classList.remove("hidden");
        }
      } finally {
        loadingIndicator.classList.add("hidden");
      }
    }

    // --- External Dictionary API ---
    async function fetchFromDictionaryAPI() {
      const term = termDisplay.textContent;
      if (!term) return;

      apiResultContainer.classList.remove("hidden");
      apiResultDisplay.textContent = "ğŸ”„ Fetching dictionary info...";

      try {
        const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${term}`);
        const data = await res.json();
        apiResultDisplay.textContent = JSON.stringify(data, null, 2);
      } catch (err) {
        apiResultDisplay.textContent = "âŒ Error fetching from Dictionary API.";
      }
    }

    // --- Mock OpenAI Explanation ---
    async function fetchFromOpenAI() {
      const term = termDisplay.textContent;
      if (!term) return;

      apiResultContainer.classList.remove("hidden");
      apiResultDisplay.textContent = "ğŸ¤– Thinking...";

      setTimeout(() => {
        apiResultDisplay.textContent = `AI Explanation: "${term}" is a common cloud computing term that helps developers scale apps efficiently.`;
      }, 1500);
    }
  </script>
</body>
</html>
